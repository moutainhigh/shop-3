<?xml version="1.0" encoding="GBK"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="manage.orderdetail">	<!-- 1. 添加Orderdetail -->	<insert id="manage.orderdetail.insert" parameterType="com.tuisitang.modules.shop.entity.Orderdetail" useGeneratedKeys="true" keyProperty="id">		insert into t_orderdetail		(id        <if test="orderID!=0">,orderID</if>		<if test="productID!=0">,productID</if>		<if test="price!=null">,price</if>		<if test="number!=0">,number</if>		<if test="productName!=null and productName!=''">,productName</if>		<if test="picture!=null and picture!=''">,picture</if>		<if test="fee!=null">,fee</if>		<if test="total0!=null">,total0</if>		<if test="isComment!=null and isComment!=''">,isComment</if>		<if test="lowStocks!=null and lowStocks!=''">,lowStocks</if>		<if test="score!=0">,score</if>		<if test="specId!=0">,specId</if>		<if test="specInfo!=null and specInfo!=''">,specInfo</if>		<if test="sellerId!=0">,sellerId</if>		<if test="sellerName!=null and sellerName!=''">,sellerName</if>		<if test="giftID!=null and giftID!=''">,giftID</if>		<if test="supplierId != null ">,supplierId</if>		<if test="supplierName !=null and supplierName !='' ">,supplierName</if>		)		values		(		id		<if test="orderID!=0">,#{orderID}</if>		<if test="productID!=0">,#{productID}</if>		<if test="price!=null">,#{price}</if>		<if test="number!=0">,#{number}</if>		<if test="productName!=null and productName!=''">,#{productName}</if>		<if test="picture!=null and picture!=''">,#{picture}</if>		<if test="fee!=null">,#{fee}</if>		<if test="total0!=null">,#{total0}</if>		<if test="isComment!=null and isComment!=''">,#{isComment}</if>		<if test="lowStocks!=null and lowStocks!=''">,#{lowStocks}</if>		<if test="score!=0">,#{score}</if>		<if test="specId!=0">,#{specId}</if>		<if test="specInfo!=null and specInfo!=''">,#{specInfo}</if>		<if test="sellerId!=0">,#{sellerId}</if>		<if test="sellerName!=null and sellerName!=''">,#{sellerName}</if>		<if test="giftID!=null and giftID!=''">,#{giftID}</if>		<if test="supplierId != null ">,#{supplierId}</if>		<if test="supplierName !=null and supplierName !='' ">,#{supplierName}</if>		)	</insert>	<!-- 2. 删除Orderdetail -->	<delete id="manage.orderdetail.delete" parameterType="com.tuisitang.modules.shop.entity.Orderdetail">		delete from t_orderdetail where id = #{id}	</delete>	<!-- 3. 修改Orderdetail -->	<update id="manage.orderdetail.update" parameterType="com.tuisitang.modules.shop.entity.Orderdetail">		update t_orderdetail		set id= #{id}		<if test="orderID!=0">,orderID = #{orderID}</if>		<if test="productID!=0">,productID = #{productID}</if>		<if test="price!=null">,price = #{price}</if>		<if test="number!=0">,number = #{number}</if>		<if test="productName!=null and productName!=''">,productName = #{productName}</if>		<if test="picture!=null and picture!=''">,picture = #{picture}</if>		<if test="fee!=null">,fee = #{fee}</if>		<if test="total0!=null">,total0 = #{total0}</if>		<if test="isComment!=null and isComment!=''">,isComment = #{isComment}</if>		<if test="lowStocks!=null and lowStocks!=''">,lowStocks = #{lowStocks}</if>		<if test="score!=0">,score = #{score}</if>		<if test="specId!=0">,specId = #{specId}</if>		<if test="specInfo!=null and specInfo!=''">,specInfo = #{specInfo}</if>		<if test="sellerId!=0">,sellerId = #{sellerId}</if>		<if test="sellerName!=null and sellerName!=''">,sellerName = #{sellerName}</if>		<if test="giftID!=null and giftID!=''">,giftID = #{giftID}</if>		<if test="supplierId !=null ">,supplierId = #{supplierId}</if>		<if test="supplierName !=null and supplierName !='' ">,supplierName = #{supplierName}</if>		where id = #{id}	</update>	<!-- 4. 根据Orderdetail查询一条记录 -->	<select id="manage.orderdetail.selectOne" parameterType="com.tuisitang.modules.shop.entity.Orderdetail" resultType="com.tuisitang.modules.shop.entity.Orderdetail">		select t.* from t_orderdetail t where t.id = #{id}	</select>	<!-- 5. 分页查询Orderdetail -->	<select id="manage.orderdetail.selectPageList" parameterType="com.tuisitang.modules.shop.entity.Orderdetail" resultType="com.tuisitang.modules.shop.entity.Orderdetail">		select t.* from t_orderdetail t where 1 = 1		<if test="orderID!=0"> and orderID = #{orderID}</if>		<if test="productID!=0"> and productID = #{productID}</if>		<if test="price!=null"> and price = #{price}</if>		<if test="number!=0"> and number = #{number}</if>		<if test="productName!=null and productName!=''"> and productName = #{productName}</if>		<if test="fee!=null"> and fee = #{fee}</if>		<if test="total0!=null"> and total0 = #{total0}</if>		<if test="isComment!=null and isComment!=''"> and isComment = #{isComment}</if>		<if test="lowStocks!=null and lowStocks!=''"> and lowStocks = #{lowStocks}</if>		<if test="score!=0"> and score = #{score}</if>		<if test="specId!=0"> and specId = #{specId}</if>		<if test="specInfo!=null and specInfo!=''"> and specInfo = #{specInfo}</if>		<if test="giftID!=null and giftID!=''"> and giftID = #{giftID}</if>		<if test="supplierId !=null ">and supplierId = #{supplierId}</if>		<if test="supplierName !=null and supplierName !='' ">and supplierName = #{supplierName}</if>		order by id		limit #{offset}, #{pageSize}	</select>	<!-- 6. 根据条件查询Orderdetail -->	<select id="manage.orderdetail.selectList" parameterType="com.tuisitang.modules.shop.entity.Orderdetail" resultType="com.tuisitang.modules.shop.entity.Orderdetail">		select t.*,(select p.picture from t_product p where p.id=t.productID) picture 		  from t_orderdetail t where 1=1		<if test="orderID != null"> and orderID = #{orderID}</if>		<if test="specId != null"> and specId = #{specId}</if>		<if test="supplierId !=null ">and supplierId = #{supplierId}</if>		order by id	</select>	<!-- 7. 根据ID来删除一条记录 -->	<delete id="manage.orderdetail.deleteById" parameterType="long">		delete from t_orderdetail where id = #{id}	</delete>	<!-- 8. 根据ID查询一条记录 -->	<select id="manage.orderdetail.selectById" parameterType="long" resultType="com.tuisitang.modules.shop.entity.Orderdetail">		select t.* from t_orderdetail t where t.id = #{id}	</select>	<!-- 9. 分页查询Orderdetail -->	<select id="manage.orderdetail.selectPageCount" parameterType="com.tuisitang.modules.shop.entity.Orderdetail" resultType="int">		select count(1) from t_orderdetail t where 1 = 1		<if test="orderID!=0"> and orderID = #{orderID}</if>		<if test="productID!=0"> and productID = #{productID}</if>		<if test="price!=null"> and price = #{price}</if>		<if test="number!=0"> and number = #{number}</if>		<if test="productName!=null and productName!=''"> and productName = #{productName}</if>		<if test="fee!=null"> and fee = #{fee}</if>		<if test="total0!=null"> and total0 = #{total0}</if>		<if test="isComment!=null and isComment!=''"> and isComment = #{isComment}</if>		<if test="lowStocks!=null and lowStocks!=''"> and lowStocks = #{lowStocks}</if>		<if test="score!=0"> and score = #{score}</if>		<if test="specId!=0"> and specId = #{specId}</if>		<if test="specInfo!=null and specInfo!=''"> and specInfo = #{specInfo}</if>		<if test="giftID!=null and giftID!=''"> and giftID = #{giftID}</if>		<if test="supplierId !=null ">and supplierId = #{supplierId}</if>		<if test="supplierName !=null and supplierName !='' ">and supplierName = #{supplierName}</if>	</select>		<select id="manage.orderdetail.reportProductSales" parameterType="com.tuisitang.modules.shop.entity.Orderdetail" resultType="net.jeeshop.services.manage.order.bean.ReportInfo">	 SELECT od.productID,sum(od.number) productSellCount FROM t_order o,t_orderdetail od,t_product p where o.id=od.orderid and p.id=od.productID and o.paystatus='y'  and o.createdate &gt;= '2014-01-24 18:18:08'  and  o.createdate &lt;= '2014-02-24 18:18:08'  group by od.productIDorder by productSellCount desc	</select></mapper>